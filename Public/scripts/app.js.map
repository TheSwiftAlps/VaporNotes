{"version":3,"file":"app.js","sourceRoot":"","sources":["NetworkComponent.ts","EditorDelegate.ts","Editor.ts","NotesListDelegate.ts","NotesList.ts","LoginFormDelegate.ts","LoginForm.ts","ToolbarDelegate.ts","Toolbar.ts","Application.ts","app.ts"],"names":[],"mappings":"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","sourcesContent":["class NetworkComponent {\n    private _beforeSendCallback = (xhr) => {};\n    private _securityToken: string = null;\n\n    get securityToken(): string {\n        return this._securityToken;\n    }\n\n    noAuth(): void {\n        this._securityToken = null;\n        this._beforeSendCallback = (xhr) => {};\n    }\n\n    basicAuth(username: string, password: string) {\n        this._securityToken = null;\n        this._beforeSendCallback = (xhr) => {\n            let token = btoa(username + \":\" + password);\n            xhr.setRequestHeader (\"Authorization\", \"Basic \" + token);\n        };\n    }\n\n    tokenAuth(token: string): void {\n        this._securityToken = token;\n        this._beforeSendCallback = (xhr) => {\n            xhr.setRequestHeader (\"Authorization\", \"Bearer \" + token);\n        };\n    }\n\n    sendRequest(method: string, url: string, data, callback): void {\n        $.ajax({\n            type: method,\n            url: url,\n            contentType: \"application/json; charset=utf-8\",\n            beforeSend: this._beforeSendCallback,\n            data: data,\n            success: callback,\n            error: () => {\n                alert(\"Request failed\");\n            }\n        });\n    }\n}\n","interface EditorDelegate {\n    onSaveNote(note);\n}","class Editor {\n    public delegate: EditorDelegate = null;\n    private _noteEditorDiv;\n    private _titleField;\n    private _contentsField;\n    private _saveButton;\n    private _currentNote = null;\n\n    constructor() {\n        this._noteEditorDiv = $('#noteEditorDiv');\n        this._titleField = $('#titleField');\n        this._contentsField = $('#contentsField');\n        this._saveButton = $('#saveButton');\n\n        this._saveButton.bind('click', () => {\n            let data = {\n                \"title\": this._titleField.val(),\n                \"contents\": this._contentsField.val(),\n                \"id\": this._currentNote.id\n            };\n            if (this.delegate) {\n                this.delegate.onSaveNote(data);\n            }\n        });\n    }\n\n    enable(): void {\n        this._noteEditorDiv.show();\n    }\n\n    disable(): void {\n        this._noteEditorDiv.hide();\n        this._titleField.val(\"\");\n        this._contentsField.val(\"\");\n        this._currentNote = null;\n    }\n\n    showNote(note): void {\n        this.enable();\n        this._currentNote = note;\n        this._titleField.val(note.title);\n        this._contentsField.val(note.contents);\n    }\n}","interface NotesListDelegate {\n    onEditNote(note): void;\n    onDeleteNote(note): void;\n    onPublishNote(note): void;\n    onUnpublishNote(note): void;\n}\n","class NotesList {\n    public delegate: NotesListDelegate = null;\n    private _notesDiv;\n\n    constructor() {\n        this._notesDiv = $('#notesDiv');\n    }\n\n    show(): void {\n        this._notesDiv.show();\n    }\n\n    hide(): void {\n        this._notesDiv.hide();\n    }\n\n    empty(): void {\n        this._notesDiv.empty();\n    }\n\n    writeEmptyMessage(): void {\n        let p = $(\"<p>No notes. Click \\\"create note\\\" to write one.</p>\");\n        this._notesDiv.append(p);\n    }\n\n    displayNotes(notes): void {\n        this._notesDiv.empty();\n        if (notes.length == 0) {\n            this.writeEmptyMessage();\n            return;\n        }\n        for (let note of notes) {\n            let p = $(\"<p>\");\n            let editButton = $('<input type=\"button\" value=\"edit\">');\n            editButton.bind('click', () => {\n                this.delegate.onEditNote(note);\n            });\n            let deleteButton = $('<input type=\"button\" value=\"delete\">');\n            deleteButton.bind('click', () => {\n                let ok = confirm(\"Are you sure?\");\n                if (ok) {\n                    this.delegate.onDeleteNote(note);\n                }\n            });\n            p.append(editButton);\n            p.append(\"&nbsp;\");\n            if (note.published) {\n                let a = $('<a target=\"_blank\" href=\"/' + note.slug + '\">' + note.title + '</a>');\n                let unpublishButton = $('<input type=\"button\" value=\"unpublish\">');\n                unpublishButton.bind('click', () => {\n                    this.delegate.onUnpublishNote(note);\n                });\n                p.append(a);\n                p.append(\"&nbsp;\");\n                p.append(unpublishButton);\n            }\n            else {\n                p.append(note.title);\n                let publishButton = $('<input type=\"button\" value=\"publish\">');\n                publishButton.bind('click', () => {\n                    this.delegate.onPublishNote(note);\n                });\n                p.append(\"&nbsp;\");\n                p.append(publishButton);\n            }\n            p.append(\"&nbsp;\");\n            p.append(deleteButton);\n            this._notesDiv.append(p);\n        }\n    }\n}\n","interface LoginFormDelegate {\n    onLogin(user: string, pass: string): void;\n    onLogout(): void;\n}\n","class LoginForm {\n    public delegate: LoginFormDelegate = null;\n    private _usernameField;\n    private _passwordField;\n    private _loginButton;\n\n    constructor() {\n        this._usernameField = $('#usernameField');\n        this._passwordField = $('#passwordField');\n        this._loginButton = $('#loginButton');\n\n        this._loginButton.bind('click', () => {\n            let user = this._usernameField.val();\n            let pass = this._passwordField.val();\n            this.delegate.onLogin(user, pass);\n        });\n    }\n\n    enable(): void {\n        this._usernameField.removeAttr(\"disabled\");\n        this._passwordField.removeAttr(\"disabled\");\n        this._loginButton.val(\"login\");\n        this._loginButton.unbind('click');\n        this._loginButton.bind('click', () => {\n            let user = this._usernameField.val();\n            let pass = this._passwordField.val();\n            this.delegate.onLogin(user, pass);\n        });\n    }\n\n    disable(): void {\n        this._usernameField.attr(\"disabled\", \"disabled\");\n        this._passwordField.attr(\"disabled\", \"disabled\");\n        this._loginButton.val(\"logout\");\n        this._loginButton.unbind('click');\n        this._loginButton.bind('click', () => {\n            this.delegate.onLogout();\n        });\n    }\n}\n","interface ToolbarDelegate {\n    onCreate(): void;\n    onBackup(): void;\n    onSearch(query: String): void;\n    onReset(): void;\n}\n","class Toolbar {\n    public delegate: ToolbarDelegate = null;\n    private _createNoteButton;\n    private _backupButton;\n    private _searchField;\n    private _searchButton;\n    private _resetButton;\n\n    constructor() {\n        this._createNoteButton = $('#createNoteButton');\n        this._backupButton = $('#backupButton');\n        this._searchField = $('#searchField');\n        this._searchButton = $('#searchButton');\n        this._resetButton = $('#resetButton');\n        this._createNoteButton.bind('click', () => {\n            this.delegate.onCreate();\n        });\n        this._backupButton.bind('click', () => {\n            this.delegate.onBackup();\n        });\n        this._searchButton.bind('click', () => {\n            let searchQuery = this._searchField.val();\n            this.delegate.onSearch(searchQuery);\n        });\n        this._resetButton.bind('click', () => {\n            this._searchField.val(\"\");\n            this.delegate.onReset();\n        });\n    }\n\n    enable(): void {\n        this._createNoteButton.removeAttr(\"disabled\");\n        this._backupButton.removeAttr(\"disabled\");\n        this._searchField.removeAttr(\"disabled\");\n        this._searchButton.removeAttr(\"disabled\");\n        this._resetButton.removeAttr(\"disabled\");\n    }\n\n    disable(): void {\n        this._createNoteButton.attr(\"disabled\", \"disabled\");\n        this._backupButton.attr(\"disabled\", \"disabled\");\n        this._searchField.attr(\"disabled\", \"disabled\");\n        this._searchButton.attr(\"disabled\", \"disabled\");\n        this._resetButton.attr(\"disabled\", \"disabled\");\n    }\n}\n","/// <reference path=\"./NetworkComponent.ts\" />\n/// <reference path=\"./EditorDelegate.ts\" />\n/// <reference path=\"./Editor.ts\" />\n/// <reference path=\"./NotesListDelegate.ts\" />\n/// <reference path=\"./NotesList.ts\" />\n/// <reference path=\"./LoginFormDelegate.ts\" />\n/// <reference path=\"./LoginForm.ts\" />\n/// <reference path=\"./ToolbarDelegate.ts\" />\n/// <reference path=\"./Toolbar.ts\" />\n\nclass Application implements EditorDelegate, NotesListDelegate, LoginFormDelegate, ToolbarDelegate {\n    private _notesList = new NotesList();\n    private _editor = new Editor();\n    private _loginForm = new LoginForm();\n    private _network = new NetworkComponent();\n    private _toolbar = new Toolbar();\n    private _downloadFrame;\n    private _noteTemplate = {\n        \"title\": \"New note\",\n        \"contents\": \"New note contents\"\n    };\n\n    constructor() {\n        this._downloadFrame = document.getElementById('downloadFrame');\n        this._editor.delegate = this;\n        this._notesList.delegate = this;\n        this._loginForm.delegate = this;\n        this._toolbar.delegate = this;\n    }\n\n    onLogin(user: string, pass: string): void {\n        let url = \"/api/v1/login\";\n        this._network.basicAuth(user, pass);\n        this._network.sendRequest(\"POST\", url, null, (data) => {\n            let securityToken = data[\"token\"];\n            this._network.tokenAuth(securityToken);\n            this._toolbar.enable();\n            this._loginForm.disable();\n            this._notesList.show();\n            this.getNotes();\n        });\n    }\n\n    onLogout(): void {\n        this._network.noAuth();\n        this._editor.disable();\n        this._notesList.hide();\n        this._toolbar.disable();\n        this._loginForm.enable();\n    }\n\n    onCreate(): void {\n        this._editor.disable();\n        let url = \"/api/v1/notes\";\n        let data = JSON.stringify(this._noteTemplate);\n        this._network.sendRequest(\"POST\", url, data, () => {\n            this.getNotes();\n        });\n    }\n\n    getNotes(): void {\n        let url = \"/api/v1/notes\";\n        this._network.sendRequest(\"GET\", url, null, (data) => {\n            let notes = data[\"data\"];\n            this._notesList.displayNotes(notes);\n        });\n    }\n\n    onBackup(): void {\n        // The Vapor docs indicate that one can pass\n        // the current security token in the URL\n        // https://docs.vapor.codes/2.0/auth/helper/\n        let url = \"/api/v1/notes/backup?_authorizationBearer=\" + this._network.securityToken;\n        // Courtesy of\n        // https://stackoverflow.com/a/3749395/133764\n        this._downloadFrame['src'] = url;\n    }\n\n    onSearch(query: string): void {\n        this._editor.disable();\n        if (query === null || query.length == 0) {\n            this.getNotes();\n            return;\n        }\n        let url = \"/api/v1/notes/search\";\n        let obj = JSON.stringify({ \"query\": query });\n        this._network.sendRequest(\"POST\", url, obj, (data) => {\n            let notes = data[\"data\"];\n            console.dir(notes);\n            this._notesList.displayNotes(notes);\n        });\n    }\n\n    onReset(): void {\n        this._editor.disable();\n        this.getNotes();\n    }\n\n    onSaveNote(note): void {\n        let url = \"/api/v1/notes/\" + note.id;\n        let data = JSON.stringify(note);\n        this._network.sendRequest(\"PUT\", url, data, () => {\n            this.getNotes();\n        });\n    }\n\n    onDeleteNote(note): void {\n        this._editor.disable();\n        let url = \"/api/v1/notes/\" + note.id;\n        this._network.sendRequest(\"DELETE\", url, null, () => {\n            this.getNotes();\n        });\n    }\n\n    onEditNote(note): void {\n        this._editor.showNote(note);\n    }\n\n    onPublishNote(note): void {\n        let url = \"/api/v1/notes/\" + note.id + \"/publish\";\n        this._network.sendRequest(\"PUT\", url, null, () => {\n            this.getNotes();\n        });\n    }\n\n    onUnpublishNote(note): void {\n        let url = \"/api/v1/notes/\" + note.id + \"/unpublish\";\n        this._network.sendRequest(\"PUT\", url, null, () => {\n            this.getNotes();\n        });\n    }\n}\n","/// <reference path=\"./Application.ts\" />\n\nlet app;\n\n$(function () {\n    app = new Application();\n});\n"]}